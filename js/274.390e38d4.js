"use strict";(globalThis["webpackChunkqrscanner"]=globalThis["webpackChunkqrscanner"]||[]).push([[274],{7274:(e,n,a)=>{a.r(n),a.d(n,{default:()=>P});var c=a(9835);function t(e,n,a,t,l,o){const r=(0,c.up)("ScanArea"),s=(0,c.up)("ResultArea");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(r),(0,c.Wm)(s)],64)}var l=a(1957);const o={class:"video-container flex flex-center"},r={class:"btn-area flex justify-between"},s={class:"camera-area",ref:"vTag"};function i(e,n,a,t,i,u){const p=(0,c.up)("q-btn");return(0,c.wg)(),(0,c.iD)("div",o,[(0,c.wy)((0,c._)("div",r,[(0,c.Wm)(p,{round:"",color:"grey-9",icon:"close",onClick:t.closePage},null,8,["onClick"]),(0,c.Wm)(p,{round:"",color:"grey-9",icon:t.camPaused?"play_arrow":"pause",onClick:t.pauseCam},null,8,["icon","onClick"]),(0,c.Wm)(p,{round:"",color:"grey-9",icon:"wallpaper"})],512),[[l.F8,t.camEnabled]]),(0,c._)("video",s,null,512)])}a(8964);var u=a(499),p=a(61),d=a(6644),m=a(4682);const g={name:"ScanArea",setup(){const e=(0,p.oR)(),n=(0,d.tv)(),a=m.Z.hasCamera();let t=(0,u.iH)(null),l=(0,u.iH)(!1),o=null,r="";function s(){try{const e=o.start();e.then((()=>{console.log("camera permission granted"),l.value=!0})).catch((e=>{console.error("camera permission needed!",e),l.value=!1}))}catch(e){console.error(e)}}let i=(0,u.iH)(0);function g(){i.value=!i.value,i.value?o.stop():s()}function h(){e.dispatch("scan/scanClear",0),o.stop(),n.replace("/")}return(0,c.bv)((()=>{a.then((n=>{n?(e.dispatch("scan/hasCamera",!0),m.Z.listCameras().then((e=>console.log(e))),(0,c.Y3)((()=>{o=new m.Z(t.value,(({data:n})=>{r!==n&&(r=n,e.dispatch("scan/scanResult",n))}),{highlightScanRegion:!0,highlightCodeOutline:!0}),s()}))):e.dispatch("scan/hasCamera",!1)})).catch((e=>console.error(e)))})),{vTag:t,closePage:h,camPaused:i,pauseCam:g,camEnabled:l}}};var h=a(1639),v=a(5823),w=a(9984),f=a.n(w);const C=(0,h.Z)(g,[["render",i]]),b=C;f()(g,"components",{QBtn:v.Z});var k=a(6970);function Z(e,n,a,t,l,o){const r=(0,c.up)("q-item-label"),s=(0,c.up)("q-item-section"),i=(0,c.up)("q-icon"),u=(0,c.up)("q-item"),p=(0,c.up)("q-list"),d=(0,c.up)("q-card"),m=(0,c.Q2)("ripple");return(0,c.wg)(),(0,c.j4)(d,{class:"result-card"},{default:(0,c.w5)((()=>[(0,c.Wm)(p,{bordered:"",class:"result-list"},{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.list,(e=>(0,c.wy)(((0,c.wg)(),(0,c.j4)(u,{clickable:"",key:e.id},{default:(0,c.w5)((()=>[(0,c.Wm)(s,{onClick:n=>t.openUrl(e)},{default:(0,c.w5)((()=>[(0,c.Wm)(r,{lines:"2"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,k.zw)(e.value),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,c.Wm)(s,{side:"",onClick:n=>t.copyText(e.value)},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{name:"content_copy",color:"green"})])),_:2},1032,["onClick"])])),_:2},1024)),[[m]]))),128))])),_:1})])),_:1})}const y={name:"ResultArea",setup(){const e=(0,p.oR)(),n=(0,u.qj)([]);function a(e){navigator.clipboard.writeText(e)}function t(e){"url"===e.type&&window.open(e.value)}return(0,c.m0)((()=>{n.length=0,Object.assign(n,e.state.scan.currentResult)})),{list:n,copyText:a,openUrl:t}}};var q=a(4458),W=a(3246),_=a(490),R=a(1233),Q=a(3115),T=a(2857),x=a(1136);const A=(0,h.Z)(y,[["render",Z]]),S=A;f()(y,"components",{QCard:q.Z,QList:W.Z,QItem:_.Z,QItemSection:R.Z,QItemLabel:Q.Z,QIcon:T.Z}),f()(y,"directives",{Ripple:x.Z});const j=(0,c.aZ)({name:"ScanPage",components:{ScanArea:b,ResultArea:S}}),H=(0,h.Z)(j,[["render",t]]),P=H}}]);